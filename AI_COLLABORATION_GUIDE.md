# 🤖 AI协作开发指南

## 📋 项目背景说明

当你在新的开发环境中使用AI助手时，请将以下信息提供给AI，以便它更好地理解项目状态：

### 🎯 项目基本信息
```
项目名称: CalendarX
项目类型: 全栈任务管理系统
架构模式: 前后端分离 + 模块化设计
主要功能: 任务管理、用户认证、重复事件、数据同步、备份恢复
前端技术栈: Vue.js 3 + Pinia + Vite + Vitest
后端技术栈: FastAPI + SQLModel + SQLite + JWT
```

### 📁 关键文件说明
```
前端核心文件:
- src/App.vue: 主应用组件
- src/store/modules/: Pinia状态管理模块
  ├── taskStore.js: 任务管理状态
  ├── authStore.js: 用户认证状态
  ├── calendarStore.js: 日历视图状态
  ├── backupStore.js: 备份管理状态
  └── uiStore.js: UI状态管理
- src/services/: 业务逻辑服务层
  ├── taskService.js: 任务业务逻辑
  ├── taskApiService.js: 任务API服务
  ├── authService.js: 认证服务
  ├── backupService.js: 备份服务
  └── dateService.js: 日期工具服务
- src/components/: 可复用组件
  ├── CalendarView.vue: 日历视图组件
  ├── TaskModal.vue: 任务编辑模态框
  ├── TaskList.vue: 任务列表组件
  └── BackupModal.vue: 备份管理模态框

后端核心文件:
- backend/app/main.py: FastAPI应用入口
- backend/app/models.py: 数据模型
- backend/app/routes/: API路由模块
- backend/app/auth.py: 认证工具

配置文件:
- package.json: 前端依赖配置
- backend/requirements.txt: 后端依赖配置
- vite.config.js: Vite构建配置
- vitest.config.js: 测试配置
```

### 🔧 当前项目状态
```
分支状态: 统一使用main分支
Git仓库: https://github.com/superxsy/calenderX
架构状态: 已完成模块化重构，前后端分离架构
功能状态: 核心功能完整，支持本地+云端双模式
代码质量: 良好的分层架构，完善的错误处理
部署状态: 前端GitHub Pages，后端支持Docker部署
```

## 🚀 AI协作建议

### 1. 首次协作时的信息提供

向AI助手说明：
```
"我正在开发一个Vue.js日历应用CalendarX，项目已经完成了基础功能开发。
请先查看DEVELOPMENT_GUIDE.md了解项目详情，然后查看src/App.vue了解当前代码结构。
项目支持任务管理、重复事件、颜色分类等功能。"
```

### 2. 让AI了解项目的方式

**步骤1**: 让AI查看开发文档
```
请查看DEVELOPMENT_GUIDE.md文件，了解项目的整体架构和功能特性
```

**步骤2**: 让AI检查核心代码
```
请查看src/App.vue文件，这是项目的主要组件，包含所有核心功能
```

**步骤3**: 说明当前需求
```
基于现有功能，我需要[具体描述你的需求]
```

### 3. 常用的AI协作指令

#### 🔍 代码理解
```
"请分析src/App.vue中的任务管理功能实现"
"请解释重复任务的生成逻辑"
"请查看颜色管理相关的代码"
```

#### 🛠️ 功能开发
```
"基于现有的任务结构，我想添加[新功能]"
"请优化[具体功能]的性能"
"请修复[具体问题]"
```

#### 🎨 样式调整
```
"请查看src/style.css，我想调整[具体样式]"
"请优化移动端的显示效果"
"请改进[具体组件]的视觉效果"
```

### 4. 项目特殊说明

#### 数据结构
```javascript
// 任务对象的标准结构
{
  id: 'unique-id',
  title: '任务标题',
  description: '任务描述', 
  date: '2024-01-15',
  time: '14:30',
  color: '#ff6b6b',
  repeat: 'weekly',
  repeatEnd: '2024-12-31'
}
```

#### 重要方法
- `loadTasks()`: 加载任务数据
- `saveTasks()`: 保存任务数据
- `addTask()`: 添加任务（含重复任务处理）
- `editTask()`: 编辑任务
- `deleteTask()`: 删除任务
- `generateRepeatingTasks()`: 生成重复任务

#### 样式约定
- 使用CSS Grid布局日历
- 颜色系统基于HSL值
- 响应式断点: 768px
- 动画使用CSS transition

### 5. 开发环境设置提醒

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 运行测试
npm run test

# 构建生产版本
npm run build
```

### 6. 常见问题和解决方案

#### Q: AI不理解项目结构怎么办？
A: 让AI先查看DEVELOPMENT_GUIDE.md，然后逐步查看核心文件

#### Q: 如何让AI理解现有功能？
A: 描述具体的功能点，让AI查看相关代码段

#### Q: 修改代码时要注意什么？
A: 提醒AI保持数据结构兼容性，遵循现有的代码风格

#### Q: 如何确保代码质量？
A: 要求AI在修改后运行测试，检查功能完整性

### 7. 推荐的协作流程

1. **项目介绍** → 提供项目背景和当前状态
2. **文档查看** → 让AI查看DEVELOPMENT_GUIDE.md
3. **代码理解** → 让AI查看相关核心文件
4. **需求说明** → 详细描述开发需求
5. **方案讨论** → 与AI讨论实现方案
6. **代码实现** → AI协助编写代码
7. **测试验证** → 测试功能并优化
8. **文档更新** → 更新相关文档

## 🚀 AI协作最佳实践

### 📝 任务描述规范

当你需要AI帮助时，请按以下格式描述任务：

```
任务类型: [功能开发/Bug修复/代码优化/测试/架构调整]
具体需求: [详细描述你想要实现的功能]
期望结果: [描述期望的最终效果]
涉及模块: [前端/后端/全栈，具体模块名称]
相关文件: [如果知道涉及哪些文件，请列出]
数据模式: [本地模式/API模式/双模式]
```

### 🎯 开发优先级

1. **系统稳定性** - 确保前后端核心功能正常运行
2. **数据一致性** - 保证本地与云端数据同步的可靠性
3. **用户体验** - 界面响应性、错误处理、加载状态
4. **安全性** - 用户认证、数据加密、权限控制
5. **代码质量** - 模块化、可测试性、文档完善
6. **性能优化** - 前端渲染、后端响应、数据库查询
7. **新功能扩展** - 在稳定基础上添加新特性

### 🔍 问题排查指南

当遇到问题时，请按以下步骤进行：

**前端问题排查：**
1. **检查控制台错误** - 查看浏览器开发者工具的错误信息
2. **确认状态管理** - 检查Pinia store中的数据状态
3. **验证API调用** - 查看网络请求是否正常
4. **检查组件渲染** - 确认Vue组件的生命周期和数据绑定

**后端问题排查：**
1. **查看服务器日志** - 检查FastAPI的运行日志
2. **验证数据库状态** - 确认SQLite数据库连接和数据
3. **测试API端点** - 使用工具测试API接口响应
4. **检查认证状态** - 验证JWT token的有效性

**全栈问题排查：**
1. **确认数据流** - 检查前后端数据传输是否正常
2. **验证同步逻辑** - 确认本地与云端数据同步机制
3. **检查错误处理** - 验证异常情况的处理逻辑
4. **提供详细信息** - 向AI描述问题现象、错误信息和复现步骤

---

**💡 小贴士**: 
- 保持与AI的沟通清晰具体
- 及时提供项目上下文信息
- 鼓励AI提出改进建议
- 定期更新项目文档